import Phaser from"phaser";import Entity from"./Entity";import PlayerLaser from"./PlayerLaser";export default class Player extends Entity{constructor(t,e,s,i){super(t,e,s,i,"Player"),this.setData("speed",100),this.play("sprPlayer"),this.setData("isShooting",!1),this.setData("timerShootDelay",10),this.setData("timerShootTick",this.getData("timerShootDelay")-1)}moveUp(){this.body.velocity.y=-this.getData("speed")}moveDown(){this.body.velocity.y=this.getData("speed")}moveLeft(){this.body.velocity.x=-this.getData("speed")}moveRight(){this.body.velocity.x=this.getData("speed")}update(){if(this.body.setVelocity(0,0),this.x=Phaser.Math.Clamp(this.x,0,this.scene.game.config.width),this.y=Phaser.Math.Clamp(this.y,0,this.scene.game.config.height),this.getData("isShooting"))if(this.getData("timerShootTick")<this.getData("timerShootDelay"))this.setData("timerShootTick",this.getData("timerShootTick")+1);else{const t=new PlayerLaser(this.scene,this.x,this.y);this.scene.playerLasers.add(t),this.scene.sfx.laser.play(),this.setData("timerShootTick",0)}}onDestroy(){this.scene.time.addEvent({delay:1e3,callback:()=>{this.scene.scene.start("SceneGameOver")},callbackScope:this,loop:!1})}}